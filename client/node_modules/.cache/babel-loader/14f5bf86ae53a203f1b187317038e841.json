{"ast":null,"code":"import { ADD_AIDE, GET_AIDE, EDIT_AIDE, DELETE_AIDE } from \"./types\";\nimport axios from \"axios\";\n/*************************** POST ************************ */\n\nexport const addAide = payload => {\n  return {\n    type: ADD_AIDE,\n    payload\n  };\n};\nexport const addAideToDB = el => {\n  // console.log(el);\n  return dispatch => axios.post(\"http://localhost:8000/chef-d'oeuvre/aides/add\", el).then(res => {\n    if (res.data.msg) {\n      alert(res.data.msg);\n      dispatch(window.location.reload());\n    } else {\n      dispatch(addAide(res.data), window.location.reload());\n    }\n    /*************** tester si l'aide a déjà postuler ************ */\n    // if (res.data.msg) {\n    //   alert(\"annonce existe déjà\");\n    // } else {\n\n  });\n};\n/*************************** EDIT ****************************/\n\nexport const editAide = payload => {\n  return {\n    type: EDIT_AIDE,\n    payload\n  };\n};\nexport const editAideInDB = el => {\n  return dispatch => axios.patch(`http://localhost:8000/chef-d'oeuvre/aides/updateAide/${el._id}`, el).then(res => dispatch(editAide(res.data), window.location.reload(false)));\n};\nexport const getOneAideFDB = () => {\n  return dispatch => axios.get(`http://localhost:8000/chef-d'oeuvre/aides/OneAide`, {\n    withCredentials: true\n  }).then(res => {\n    console.log(\"get  one aide \", res.data);\n    dispatch(getAide);\n  }).catch(err => console.log(\"err one aide\", err));\n};\n/******************************* DELETE ******************************/\n\nexport const deleteAide = payload => {\n  return {\n    type: DELETE_AIDE,\n    payload\n  };\n};\nexport const deleteAideInDB = el => {\n  return dispatch => axios.delete(`http://localhost:8000/chef-d'oeuvre/aides/deleteAide/${el}`).then(res => dispatch(deleteAide(res.data), window.location.reload(false)));\n};\n/******************************* GET ****************************** */\n\nexport const getAide = payload => {\n  return {\n    type: GET_AIDE,\n    payload\n  };\n};\nexport const getAideFromDB = () => {\n  return dispatch => axios.get(\"http://localhost:8000/chef-d'oeuvre/aides/getallaide\").then(res => dispatch(getAide(res.data)));\n};","map":{"version":3,"sources":["/home/amira/Bureau/copie-projet-chef-d-oeuvreV8/client/src/actions/aideActionCreator.js"],"names":["ADD_AIDE","GET_AIDE","EDIT_AIDE","DELETE_AIDE","axios","addAide","payload","type","addAideToDB","el","dispatch","post","then","res","data","msg","alert","window","location","reload","editAide","editAideInDB","patch","_id","getOneAideFDB","get","withCredentials","console","log","getAide","catch","err","deleteAide","deleteAideInDB","delete","getAideFromDB"],"mappings":"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","sourcesContent":["import { ADD_AIDE, GET_AIDE, EDIT_AIDE, DELETE_AIDE } from \"./types\";\nimport axios from \"axios\";\n/*************************** POST ************************ */\nexport const addAide = (payload) => {\n  return {\n    type: ADD_AIDE,\n    payload,\n  };\n};\nexport const addAideToDB = (el) => {\n  // console.log(el);\n  return (dispatch) =>\n    axios\n      .post(\"http://localhost:8000/chef-d'oeuvre/aides/add\", el)\n      .then((res) => {\n        if (res.data.msg) {\n          alert(res.data.msg);\n          dispatch(window.location.reload());\n        } else {\n          dispatch(addAide(res.data), window.location.reload());\n        }\n        /*************** tester si l'aide a déjà postuler ************ */\n        // if (res.data.msg) {\n        //   alert(\"annonce existe déjà\");\n        // } else {\n      });\n};\n\n/*************************** EDIT ****************************/\nexport const editAide = (payload) => {\n  return {\n    type: EDIT_AIDE,\n    payload,\n  };\n};\nexport const editAideInDB = (el) => {\n  return (dispatch) =>\n    axios\n      .patch(\n        `http://localhost:8000/chef-d'oeuvre/aides/updateAide/${el._id}`,\n        el\n      )\n      .then((res) =>\n        dispatch(editAide(res.data), window.location.reload(false))\n      );\n};\nexport const getOneAideFDB = () => {\n  return (dispatch) =>\n    axios\n      .get(`http://localhost:8000/chef-d'oeuvre/aides/OneAide`, {\n        withCredentials: true,\n      })\n      .then((res) => {\n        console.log(\"get  one aide \", res.data);\n        dispatch(getAide);\n      })\n      .catch((err) => console.log(\"err one aide\", err));\n};\n/******************************* DELETE ******************************/\nexport const deleteAide = (payload) => {\n  return {\n    type: DELETE_AIDE,\n    payload,\n  };\n};\nexport const deleteAideInDB = (el) => {\n  return (dispatch) =>\n    axios\n      .delete(`http://localhost:8000/chef-d'oeuvre/aides/deleteAide/${el}`)\n      .then((res) =>\n        dispatch(deleteAide(res.data), window.location.reload(false))\n      );\n};\n\n/******************************* GET ****************************** */\nexport const getAide = (payload) => {\n  return {\n    type: GET_AIDE,\n    payload,\n  };\n};\nexport const getAideFromDB = () => {\n  return (dispatch) =>\n    axios\n      .get(\"http://localhost:8000/chef-d'oeuvre/aides/getallaide\")\n      .then((res) => dispatch(getAide(res.data)));\n};\n"]},"metadata":{},"sourceType":"module"}