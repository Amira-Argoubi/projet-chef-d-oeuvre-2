{"ast":null,"code":"var _jsxFileName = \"/home/amira/Bureau/copie-projet-chef-d-oeuvreV9/client/src/components/dashboardClient/clientAttente.js\";\nimport React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport { getAideFromDB } from \"../../actions/aideActionCreator\";\nimport { getReservation, deleteReservationInDB } from \"../../actions/reservationAction\";\nimport { getUser } from \"../../actions/auth\";\nimport { Label, Table, Button } from \"semantic-ui-react\";\nexport class ReservationAttente extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      page: 1,\n      pageSize: 3\n    };\n\n    this.page = (page, pageSize) => {\n      this.setState({\n        page: page,\n        pageSize: pageSize\n      });\n    };\n  }\n\n  componentDidMount() {\n    this.props.getUser();\n    this.props.getAideFromDB();\n    this.props.getReservation();\n  } // handle pagination\n\n\n  render() {\n    const reservations = this.props.reservation.filter(el => el.client._id.toString() === this.props.user._id.toString());\n    console.log(\"u\", reservations);\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"liste-reservation container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 32,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"h1\", {\n      className: \"reservartion-client\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 33,\n        columnNumber: 9\n      }\n    }, \"Mes r\\xE9servations\"), reservations.length ? /*#__PURE__*/React.createElement(Table, {\n      celled: true,\n      className: \"table-reserv-client\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 36,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(Table.Header, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 37,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Table.Row, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(Table.HeaderCell, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 39,\n        columnNumber: 17\n      }\n    }, \"Nom-Pr\\xE9nom-Aide\"), /*#__PURE__*/React.createElement(Table.HeaderCell, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 17\n      }\n    }, \"D\\xE9l\\xE9gation\"), /*#__PURE__*/React.createElement(Table.HeaderCell, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 17\n      }\n    }, \"Service\"), /*#__PURE__*/React.createElement(Table.HeaderCell, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 17\n      }\n    }, \"Jour\"), /*#__PURE__*/React.createElement(Table.HeaderCell, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 17\n      }\n    }, \"Exp\\xE9rience\"), /*#__PURE__*/React.createElement(Table.HeaderCell, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 17\n      }\n    }, \"Age\"), /*#__PURE__*/React.createElement(Table.HeaderCell, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 17\n      }\n    }, \"Devis\"), /*#__PURE__*/React.createElement(Table.HeaderCell, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 17\n      }\n    }, \"Actions\"))), /*#__PURE__*/React.createElement(Table.Body, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 13\n      }\n    }, reservations // pagination\n    .filter((l, index) => (this.state.page - 1) * this.state.pageSize <= index && index < this.state.page * this.state.pageSize).map((el, i) => /*#__PURE__*/React.createElement(Table.Row, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(Table.Cell, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(Label, {\n      ribbon: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 23\n      }\n    }, el.nom)), /*#__PURE__*/React.createElement(Table.Cell, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 21\n      }\n    }, el.ville), /*#__PURE__*/React.createElement(Table.Cell, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 21\n      }\n    }, el.service), /*#__PURE__*/React.createElement(Table.Cell, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 21\n      }\n    }, el.dispo), /*#__PURE__*/React.createElement(Table.Cell, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 21\n      }\n    }, el.exp), /*#__PURE__*/React.createElement(Table.Cell, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 21\n      }\n    }, el.age), /*#__PURE__*/React.createElement(Table.Cell, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 21\n      }\n    }, el.decision === \"Validée\" ? /*#__PURE__*/React.createElement(\"img\", {\n      src: \"http://localhost:8000/\" + el.devis,\n      width: \"50px\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 25\n      }\n    }) : el.decision), /*#__PURE__*/React.createElement(Table.Cell, {\n      className: \"pos-Action \",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(Button, {\n      outline: true,\n      size: \"sm\",\n      onClick: () => this.props.deleteReservationInDB(el._id),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 23\n      }\n    }, /*#__PURE__*/React.createElement(\"i\", {\n      class: \"fas fa-trash\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 25\n      }\n    }))))), \" \"), /*#__PURE__*/React.createElement(Table.Footer, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Table.Row, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(Table.HeaderCell, {\n      colSpan: \"3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 17\n      }\n    })))) : /*#__PURE__*/React.createElement(\"h1\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 11\n      }\n    }, \"pas de reservations\"));\n  }\n\n}\n\nconst mapStateToProps = state => {\n  return {\n    aides: state.aides,\n    user: state.auth,\n    reservation: state.reservation\n  };\n};\n\nexport default connect(mapStateToProps, {\n  getAideFromDB,\n  getReservation,\n  getUser,\n  deleteReservationInDB\n})(ReservationAttente);","map":{"version":3,"sources":["/home/amira/Bureau/copie-projet-chef-d-oeuvreV9/client/src/components/dashboardClient/clientAttente.js"],"names":["React","Component","connect","getAideFromDB","getReservation","deleteReservationInDB","getUser","Label","Table","Button","ReservationAttente","state","page","pageSize","setState","componentDidMount","props","render","reservations","reservation","filter","el","client","_id","toString","user","console","log","length","l","index","map","i","nom","ville","service","dispo","exp","age","decision","devis","mapStateToProps","aides","auth"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport { getAideFromDB } from \"../../actions/aideActionCreator\";\nimport {\n  getReservation,\n  deleteReservationInDB,\n} from \"../../actions/reservationAction\";\nimport { getUser } from \"../../actions/auth\";\nimport { Label, Table, Button } from \"semantic-ui-react\";\n\nexport class ReservationAttente extends Component {\n  state = {\n    page: 1,\n    pageSize: 3,\n  };\n  componentDidMount() {\n    this.props.getUser();\n    this.props.getAideFromDB();\n    this.props.getReservation();\n  }\n  // handle pagination\n  page = (page, pageSize) => {\n    this.setState({ page: page, pageSize: pageSize });\n  };\n  render() {\n    const reservations = this.props.reservation.filter(\n      (el) => el.client._id.toString() === this.props.user._id.toString()\n    );\n\n    console.log(\"u\", reservations);\n    return (\n      <div className=\"liste-reservation container\">\n        <h1 className=\"reservartion-client\">Mes réservations</h1>\n\n        {reservations.length ? (\n          <Table celled className=\"table-reserv-client\">\n            <Table.Header>\n              <Table.Row>\n                <Table.HeaderCell>Nom-Prénom-Aide</Table.HeaderCell>\n                <Table.HeaderCell>Délégation</Table.HeaderCell>\n                <Table.HeaderCell>Service</Table.HeaderCell>\n                <Table.HeaderCell>Jour</Table.HeaderCell>\n                <Table.HeaderCell>Expérience</Table.HeaderCell>\n                <Table.HeaderCell>Age</Table.HeaderCell>\n                <Table.HeaderCell>Devis</Table.HeaderCell>\n                <Table.HeaderCell>Actions</Table.HeaderCell>\n              </Table.Row>\n            </Table.Header>\n\n            <Table.Body>\n              {reservations // pagination\n                .filter(\n                  (l, index) =>\n                    (this.state.page - 1) * this.state.pageSize <= index &&\n                    index < this.state.page * this.state.pageSize\n                )\n                .map((el, i) => (\n                  <Table.Row>\n                    <Table.Cell>\n                      <Label ribbon>{el.nom}</Label>\n                    </Table.Cell>\n                    <Table.Cell>{el.ville}</Table.Cell>\n                    <Table.Cell>{el.service}</Table.Cell>\n                    <Table.Cell>{el.dispo}</Table.Cell>\n                    <Table.Cell>{el.exp}</Table.Cell>\n                    <Table.Cell>{el.age}</Table.Cell>\n                    <Table.Cell>\n                      {el.decision === \"Validée\" ? (\n                        <img\n                          src={\"http://localhost:8000/\" + el.devis}\n                          width=\"50px\"\n                        />\n                      ) : (\n                        el.decision\n                      )}\n                    </Table.Cell>\n\n                    <Table.Cell className=\"pos-Action \">\n                      {/* <Button secondary>\n                      <ModifEvent el={el} />\n                    </Button> */}\n\n                      <Button\n                        outline\n                        size=\"sm\"\n                        onClick={() => this.props.deleteReservationInDB(el._id)}\n                      >\n                        <i class=\"fas fa-trash\"></i>\n                      </Button>\n                    </Table.Cell>\n                  </Table.Row>\n                ))}{\" \"}\n            </Table.Body>\n\n            <Table.Footer>\n              <Table.Row>\n                <Table.HeaderCell colSpan=\"3\"></Table.HeaderCell>\n              </Table.Row>\n            </Table.Footer>\n          </Table>\n        ) : (\n          <h1>pas de reservations</h1>\n        )}\n      </div>\n    );\n  }\n}\nconst mapStateToProps = (state) => {\n  return {\n    aides: state.aides,\n    user: state.auth,\n    reservation: state.reservation,\n  };\n};\n\nexport default connect(mapStateToProps, {\n  getAideFromDB,\n  getReservation,\n  getUser,\n  deleteReservationInDB,\n})(ReservationAttente);\n"]},"metadata":{},"sourceType":"module"}