{"ast":null,"code":"var _jsxFileName = \"/home/amira/Bureau/copie-projet-chef-d-oeuvreV9/client/src/components/rating.js\";\nimport React, { Component } from \"react\";\nimport { FaStar } from \"react-icons/fa\";\nimport { connect } from \"react-redux\";\nimport { editAideInDB, getAideFromDB } from \"../actions/aideActionCreator\";\nimport { getUser } from \"../actions/auth\";\nvar notesfinal = 0;\n\nclass Rating extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      rating: null,\n      hover: null\n    };\n\n    this.sendNote = (e, el) => {\n      console.log(\"zz\", Number(e));\n      console.log(\"le nombre de notes de base \", Number(el));\n      /*  console.log(\n        \"les nombre de personne de base \",\n        Number(this.props.el.nb_per_note)\n      );*/\n\n      let moy1 = Number(this.props.el.notes) * Number(this.props.el.nb_per_note);\n      console.log(\"moy1 apres calcul\", moy1);\n      let moy2 = Number(moy1) + Number(e);\n      console.log(\"moy2\", moy2);\n      let nbt = Number(this.props.el.nb_per_note) + 1;\n      console.log(\"nbt\", nbt);\n      notesfinal = Number(moy2) / Number(nbt);\n      console.log(\"notesfinal\", notesfinal);\n      this.props.editAide({\n        id: this.props.el._id,\n        nom: this.props.el.nom,\n        age: this.props.el.age,\n        //photo: this.props.el.photo,\n        ville: this.props.el.ville,\n        exp: this.props.el.exp,\n        dispo: [Lundi ? \"Lundi\" : null, Mardi ? \"Mardi\" : null, Mercredi ? \"Mercredi\" : null, Jeudi ? \"Jeudi\" : null, Vendredi ? \"Vendredi\" : null, Samedi ? \"Samedi\" : null, Dimanche ? \"Dimanche\" : null],\n        notes: notesfinal,\n        nb_per_note: this.props.el.nb_per_note + 1,\n        sexe: this.props.el.sexe,\n        service: this.props.el.service,\n        num: this.state.num,\n        proprietaire: this.props.user._id // nom_organzateur: this.state.nom_organzateur,\n\n      }); //window.location.reload();\n    };\n  }\n\n  componentDidMount() {\n    this.props.getAllAide();\n    this.props.getUser();\n  }\n\n  render() {\n    /// console.log(\"sds\", this.props.el.notes);\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 7\n      }\n    }, [...Array(5)].map((star, i) => {\n      const ratingValue = i + 1;\n      return /*#__PURE__*/React.createElement(\"label\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"input\", {\n        type: \"radio\",\n        name: \"rating\",\n        value: ratingValue,\n        onClick: e => {\n          this.setState({\n            rating: e.target.value\n          });\n          this.sendNote(e.target.value);\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 15\n        }\n      }), \" \", /*#__PURE__*/React.createElement(FaStar, {\n        className: \"star\",\n        color: ratingValue <= (this.state.hover || this.state.rating) ? \"#ffc107\" : \"#070500\",\n        size: 20,\n        onMouseEnter: e => this.setState({\n          hover: ratingValue\n        }),\n        onMouseLeave: e => this.setState({\n          hover: null\n        }),\n        onClick: () => this.sendNote(this.state.rating, this.props.notes),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 15\n        }\n      }));\n    }), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 9\n      }\n    }, \"the rating is \", this.state.rating, \".\"));\n  }\n\n}\n\nconst mapStateToProps = state => ({\n  event: state.aides,\n  user: state.auth\n});\n\nconst mapDispatchToProps = dispatch => ({\n  editAide: el => dispatch(editAideInDB(el)),\n  getAllAide: () => dispatch(getAideFromDB()),\n  getUser: () => dispatch(getUser())\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Rating);","map":{"version":3,"sources":["/home/amira/Bureau/copie-projet-chef-d-oeuvreV9/client/src/components/rating.js"],"names":["React","Component","FaStar","connect","editAideInDB","getAideFromDB","getUser","notesfinal","Rating","state","rating","hover","sendNote","e","el","console","log","Number","moy1","props","notes","nb_per_note","moy2","nbt","editAide","id","_id","nom","age","ville","exp","dispo","Lundi","Mardi","Mercredi","Jeudi","Vendredi","Samedi","Dimanche","sexe","service","num","proprietaire","user","componentDidMount","getAllAide","render","Array","map","star","i","ratingValue","setState","target","value","mapStateToProps","event","aides","auth","mapDispatchToProps","dispatch"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport { FaStar } from \"react-icons/fa\";\nimport { connect } from \"react-redux\";\nimport { editAideInDB, getAideFromDB } from \"../actions/aideActionCreator\";\nimport { getUser } from \"../actions/auth\";\n\nvar notesfinal = 0;\nclass Rating extends Component {\n  state = {\n    rating: null,\n    hover: null,\n  };\n\n  sendNote = (e, el) => {\n    console.log(\"zz\", Number(e));\n\n    console.log(\"le nombre de notes de base \", Number(el));\n    /*  console.log(\n      \"les nombre de personne de base \",\n      Number(this.props.el.nb_per_note)\n    );*/\n    let moy1 = Number(this.props.el.notes) * Number(this.props.el.nb_per_note);\n    console.log(\"moy1 apres calcul\", moy1);\n    let moy2 = Number(moy1) + Number(e);\n    console.log(\"moy2\", moy2);\n    let nbt = Number(this.props.el.nb_per_note) + 1;\n    console.log(\"nbt\", nbt);\n    notesfinal = Number(moy2) / Number(nbt);\n\n    console.log(\"notesfinal\", notesfinal);\n    this.props.editAide({\n      id: this.props.el._id,\n      nom: this.props.el.nom,\n      age: this.props.el.age,\n      //photo: this.props.el.photo,\n      ville: this.props.el.ville,\n      exp: this.props.el.exp,\n      dispo: [\n        Lundi ? \"Lundi\" : null,\n        Mardi ? \"Mardi\" : null,\n        Mercredi ? \"Mercredi\" : null,\n        Jeudi ? \"Jeudi\" : null,\n        Vendredi ? \"Vendredi\" : null,\n        Samedi ? \"Samedi\" : null,\n        Dimanche ? \"Dimanche\" : null,\n      ],\n      notes: notesfinal,\n      nb_per_note: this.props.el.nb_per_note + 1,\n      sexe: this.props.el.sexe,\n      service: this.props.el.service,\n      num: this.state.num,\n      proprietaire: this.props.user._id,\n      // nom_organzateur: this.state.nom_organzateur,\n    });\n    //window.location.reload();\n  };\n  componentDidMount() {\n    this.props.getAllAide();\n    this.props.getUser();\n  }\n  render() {\n    /// console.log(\"sds\", this.props.el.notes);\n    return (\n      <div>\n        {[...Array(5)].map((star, i) => {\n          const ratingValue = i + 1;\n          return (\n            <label>\n              <input\n                type=\"radio\"\n                name=\"rating\"\n                value={ratingValue}\n                onClick={(e) => {\n                  this.setState({ rating: e.target.value });\n                  this.sendNote(e.target.value);\n                }}\n              />{\" \"}\n              <FaStar\n                className=\"star\"\n                color={\n                  ratingValue <= (this.state.hover || this.state.rating)\n                    ? \"#ffc107\"\n                    : \"#070500\"\n                }\n                size={20}\n                onMouseEnter={(e) => this.setState({ hover: ratingValue })}\n                onMouseLeave={(e) => this.setState({ hover: null })}\n                onClick={() =>\n                  this.sendNote(this.state.rating, this.props.notes)\n                }\n              />\n            </label>\n          );\n        })}\n        <p>the rating is {this.state.rating}.</p>\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = (state) => ({\n  event: state.aides,\n  user: state.auth,\n});\n\nconst mapDispatchToProps = (dispatch) => ({\n  editAide: (el) => dispatch(editAideInDB(el)),\n  getAllAide: () => dispatch(getAideFromDB()),\n  getUser: () => dispatch(getUser()),\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Rating);\n"]},"metadata":{},"sourceType":"module"}