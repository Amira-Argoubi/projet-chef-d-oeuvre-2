{"ast":null,"code":"var _jsxFileName = \"/home/amira/Bureau/copie-projet-chef-d-oeuvreV11/client/src/components/dashboardAide/gestion-reservation.js\";\nimport React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport { getAideFromDB } from \"../../actions/aideActionCreator\";\nimport { getReservation, editDecisionInDB, deleteReservationInDB } from \"../../actions/reservationAction\";\nimport { getUser } from \"../../actions/auth\";\nimport { Label, Table, Button } from \"semantic-ui-react\";\nimport { Redirect } from \"react-router-dom\";\nexport class GestionReservation extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      decision: \"Validée\",\n      deci: \"Annulée\"\n    };\n  }\n\n  componentDidMount() {\n    this.props.getAideFromDB();\n    this.props.getReservation();\n    this.props.getUser();\n  }\n\n  render() {\n    //  ne donner l'accès pour ce component qu'à l'aide!\n    if (this.props.user.role !== \"Aide ménagère\") {\n      return /*#__PURE__*/React.createElement(Redirect, {\n        to: \"/\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 25,\n          columnNumber: 14\n        }\n      });\n    }\n\n    const reservations = this.props.reservation;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"liste-reservation container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 30,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(Table, {\n      celled: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 31,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(Table.Header, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 32,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(Table.Row, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 33,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Table.HeaderCell, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 34,\n        columnNumber: 15\n      }\n    }, \"Date-d\\xE9but\"), /*#__PURE__*/React.createElement(Table.HeaderCell, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 35,\n        columnNumber: 15\n      }\n    }, \"Date-fin\"), /*#__PURE__*/React.createElement(Table.HeaderCell, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 36,\n        columnNumber: 15\n      }\n    }, \"Adresse\"), /*#__PURE__*/React.createElement(Table.HeaderCell, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 37,\n        columnNumber: 15\n      }\n    }, \"Nom-client\"), /*#__PURE__*/React.createElement(Table.HeaderCell, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 15\n      }\n    }, \"Actions\"))), /*#__PURE__*/React.createElement(Table.Body, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 11\n      }\n    }, reservations.filter(el => el.aide._id.toString() == this.props.user._id.toString())\n    /*.filter((el_organizateurs) => this.el_organizateurs === \"\" ?\n                el_organizateurs : el_organizateurs === \"maazza\"\n    )*/\n    .map((el, i) => /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Table.Row, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(Table.Cell, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 21\n      }\n    }, el.date_start), /*#__PURE__*/React.createElement(Table.Cell, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 21\n      }\n    }, el.date_end), /*#__PURE__*/React.createElement(Table.Cell, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 21\n      }\n    }, el.adresse_client), /*#__PURE__*/React.createElement(Table.Cell, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 21\n      }\n    }, el.client.nom_prenom), /*#__PURE__*/React.createElement(Button, {\n      outline: true,\n      size: \"sm\",\n      disabled: el.decision == \"Validée\" ? true : false,\n      onClick: () => this.props.deleteReservationInDB(el._id),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 21\n      }\n    }, el.decision == \"Validée\" ? null : /*#__PURE__*/React.createElement(\"i\", {\n      class: \"fas fa-trash\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 25\n      }\n    })))))), /*#__PURE__*/React.createElement(Table.Footer, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(Table.Row, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Table.HeaderCell, {\n      colSpan: \"3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 15\n      }\n    })))));\n  }\n\n}\n\nconst mapStateToProps = state => {\n  return {\n    aides: state.aides,\n    reservation: state.reservation,\n    user: state.auth\n  };\n};\n\nexport default connect(mapStateToProps, {\n  getAideFromDB,\n  getReservation,\n  getUser,\n  deleteReservationInDB,\n  editDecisionInDB\n})(GestionReservation);","map":{"version":3,"sources":["/home/amira/Bureau/copie-projet-chef-d-oeuvreV11/client/src/components/dashboardAide/gestion-reservation.js"],"names":["React","Component","connect","getAideFromDB","getReservation","editDecisionInDB","deleteReservationInDB","getUser","Label","Table","Button","Redirect","GestionReservation","state","decision","deci","componentDidMount","props","render","user","role","reservations","reservation","filter","el","aide","_id","toString","map","i","date_start","date_end","adresse_client","client","nom_prenom","mapStateToProps","aides","auth"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport { getAideFromDB } from \"../../actions/aideActionCreator\";\nimport {\n  getReservation,\n  editDecisionInDB,\n  deleteReservationInDB,\n} from \"../../actions/reservationAction\";\nimport { getUser } from \"../../actions/auth\";\nimport { Label, Table, Button } from \"semantic-ui-react\";\nimport { Redirect } from \"react-router-dom\";\nexport class GestionReservation extends Component {\n  state = {\n    decision: \"Validée\",\n    deci: \"Annulée\",\n  };\n  componentDidMount() {\n    this.props.getAideFromDB();\n    this.props.getReservation();\n    this.props.getUser();\n  }\n  render() {\n    //  ne donner l'accès pour ce component qu'à l'aide!\n    if (this.props.user.role !== \"Aide ménagère\") {\n      return <Redirect to=\"/\" />;\n    }\n    const reservations = this.props.reservation;\n\n    return (\n      <div className=\"liste-reservation container\">\n        <Table celled>\n          <Table.Header>\n            <Table.Row>\n              <Table.HeaderCell>Date-début</Table.HeaderCell>\n              <Table.HeaderCell>Date-fin</Table.HeaderCell>\n              <Table.HeaderCell>Adresse</Table.HeaderCell>\n              <Table.HeaderCell>Nom-client</Table.HeaderCell>\n              <Table.HeaderCell>Actions</Table.HeaderCell>\n            </Table.Row>\n          </Table.Header>\n\n          <Table.Body>\n            {reservations\n              .filter(\n                (el) => el.aide._id.toString() == this.props.user._id.toString()\n              ) /*.filter((el_organizateurs) => this.el_organizateurs === \"\" ?\n                            el_organizateurs : el_organizateurs === \"maazza\"\n        )*/\n              .map((el, i) => (\n                <>\n                  <Table.Row>\n                    <Table.Cell>{el.date_start}</Table.Cell>\n                    <Table.Cell>{el.date_end}</Table.Cell>\n                    <Table.Cell>{el.adresse_client}</Table.Cell>\n                    <Table.Cell>{el.client.nom_prenom}</Table.Cell>\n                    <Button\n                      outline\n                      size=\"sm\"\n                      disabled={el.decision == \"Validée\" ? true : false}\n                      onClick={() => this.props.deleteReservationInDB(el._id)}\n                    >\n                      {el.decision == \"Validée\" ? null : (\n                        <i class=\"fas fa-trash\"></i>\n                      )}\n                    </Button>\n                  </Table.Row>\n                </>\n              ))}\n          </Table.Body>\n\n          <Table.Footer>\n            <Table.Row>\n              <Table.HeaderCell colSpan=\"3\"></Table.HeaderCell>\n            </Table.Row>\n          </Table.Footer>\n        </Table>\n      </div>\n    );\n  }\n}\nconst mapStateToProps = (state) => {\n  return {\n    aides: state.aides,\n    reservation: state.reservation,\n    user: state.auth,\n  };\n};\nexport default connect(mapStateToProps, {\n  getAideFromDB,\n  getReservation,\n  getUser,\n  deleteReservationInDB,\n  editDecisionInDB,\n})(GestionReservation);\n"]},"metadata":{},"sourceType":"module"}